<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mad Shooting</title>
    <script type="module" crossorigin src="./assets/index-c_2nedgz.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-Di99_S8u.css">
    <style>
        /* Botón de borrar discreto que no rompe el diseño */
        .btn-borrar-mad {
            position: absolute !important;
            top: 10px !important;
            right: 10px !important;
            background: rgba(239, 68, 68, 0.9) !important;
            color: white !important;
            border: none !important;
            border-radius: 6px !important;
            padding: 5px 10px !important;
            font-size: 10px !important;
            font-weight: bold !important;
            z-index: 9999 !important;
            cursor: pointer !important;
        }
    </style>
</head>
<body class="bg-black">
    <div id="root"></div>

    <script>
        // Forzamos acceso de Jefe
        localStorage.setItem('userEmail', 'info@bartolomephotography.es');
        localStorage.setItem('isAdmin', 'true');

        function activarHerramientas() {
            // Buscamos solo las tarjetas de sesiones (fondo gris oscuro)
            const tarjetas = document.querySelectorAll('.bg-zinc-900\\/40');
            
            tarjetas.forEach(t => {
                const contenido = t.innerText.toUpperCase();
                
                // Solo actuamos en sesiones, ignorando logos y botones de contacto
                if ((contenido.includes('MAR') || contenido.includes('FEB') || contenido.includes('RESERVA')) 
                    && !t.querySelector('.btn-borrar-mad')) {
                    
                    t.style.position = 'relative';
                    const btn = document.createElement('button');
                    btn.className = 'btn-borrar-mad';
                    btn.innerText = 'ELIMINAR';
                    btn.onclick = (e) => {
                        e.stopPropagation();
                        if(confirm('¿Deseas quitar esta sesión?')) t.remove();
                    };
                    t.appendChild(btn);

                    // Hacer editable el título h4
                    const titulo = t.querySelector('h4');
                    if (titulo) titulo.contentEditable = "true";
                }
            });
        }

        // Ejecutar cada 2 segundos para asegurar que cargue tras la App
        setInterval(activarHerramientas, 2000);
    </script>
</body>
</html>
