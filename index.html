<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MAD SHOOTING</title>
    <script type="module" src="./assets/index-c_2nedgz.js"></script>
    <link rel="stylesheet" href="./assets/index-Di99_S8u.css">
    <style>
        /* Bloqueo de desbordamiento */
        html, body {
            background-color: #000 !important;
            margin: 0 !important;
            padding: 0 !important;
            overflow-x: hidden !important;
        }

        /* Contenedor principal centrado y con tamaño real de móvil */
        #root {
            max-width: 430px !important;
            margin: 0 auto !important;
            position: relative !important;
        }

        /* Estilo para los botones de eliminar (más pequeños y discretos) */
        .btn-borrar-mad {
            position: absolute !important;
            top: 10px !important;
            right: 10px !important;
            background: rgba(239, 68, 68, 0.9) !important; /* Rojo semi-transparente */
            color: white !important;
            border: none !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            font-size: 9px !important;
            font-weight: bold !important;
            z-index: 99999 !important;
            text-transform: uppercase !important;
            letter-spacing: 1px !important;
        }

        /* Arreglo para que las imágenes no se vean gigantes */
        img {
            max-width: 100% !important;
            height: auto !important;
            border-radius: 20px !important;
        }

        /* Línea naranja solo cuando editas texto */
        [contenteditable="true"]:focus {
            outline: none !important;
            border-bottom: 2px solid #f97316 !important;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script>
        // Acceso directo de Jefe
        localStorage.setItem('userEmail', 'info@bartolomephotography.es');
        localStorage.setItem('isAdmin', 'true');

        function limpiarApp() {
            // Buscamos las tarjetas que REALMENTE son sesiones
            // Filtramos para NO tocar logos de Maddie ni botones de WhatsApp
            const tarjetas = document.querySelectorAll('.bg-zinc-900\\/40, [class*="rounded"]');
            
            tarjetas.forEach(t => {
                const contenido = t.innerText.toUpperCase();
                
                // Solo actuamos si tiene palabras de sesión (FECHA o RESERVAR)
                // Y evitamos tocar los iconos de Maddie (que no tienen texto largo)
                if ((contenido.includes('MAR') || contenido.includes('FEB') || contenido.includes('RESERVAR')) 
                    && !contenido.includes('WHATSAPP') 
                    && !t.querySelector('.btn-borrar-mad')
                    && t.innerText.length > 10) {
                    
                    t.style.position = 'relative';

                    const btn = document.createElement('button');
                    btn.className = 'btn-borrar-mad';
                    btn.innerText = 'QUITAR';
                    btn.onclick = (e) => {
                        e.stopPropagation();
                        if(confirm('¿Eliminar esta sesión?')) t.remove();
                    };
                    t.appendChild(btn);

                    // Hacer editables solo los títulos h4
                    const titulo = t.querySelector('h4');
                    if (titulo) titulo.contentEditable = "true";
                }
            });
        }

        // Ejecutar cada 1.5 segundos
        setInterval(limpiarApp, 1500);
    </script>
</body>
</html>
